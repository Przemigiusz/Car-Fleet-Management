{"ast":null,"code":"import { Vehicle } from '../../models/Vehicle';\nimport { FormGroup, Validators, FormControl } from '@angular/forms';\nimport { ReplaySubject, takeUntil, map, forkJoin } from 'rxjs';\nimport { createAtLeastOneValidator } from '../../custom-validators/at-least-one';\nimport { createIsAnOptionValidator } from '../../custom-validators/is-an-option';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/vehicles.service\";\nimport * as i2 from \"../../services/equipment.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../services/filters.service\";\nimport * as i5 from \"../../services/loading-spinner.service\";\nimport * as i6 from \"@angular/common\";\nfunction NewCarComponent_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 40)(1, \"input\", 41);\n    i0.ɵɵlistener(\"change\", function NewCarComponent_div_8_div_1_Template_input_change_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const brand_r18 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r19.updateChoice(\"brand\", brand_r18.brandName));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 42);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const brand_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", brand_r18.brandName);\n    i0.ɵɵpropertyInterpolate(\"name\", brand_r18.brandName);\n    i0.ɵɵpropertyInterpolate(\"formControlName\", brand_r18.brandName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"for\", brand_r18.brandName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(brand_r18.brandName);\n  }\n}\nfunction NewCarComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38);\n    i0.ɵɵtemplate(1, NewCarComponent_div_8_div_1_Template, 4, 5, \"div\", 39);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.filterBrands());\n  }\n}\nfunction NewCarComponent_div_13_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 40)(1, \"input\", 41);\n    i0.ɵɵlistener(\"change\", function NewCarComponent_div_13_div_1_Template_input_change_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const model_r22 = restoredCtx.$implicit;\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.updateChoice(\"model\", model_r22.modelName));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 42);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const model_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", model_r22.modelName);\n    i0.ɵɵpropertyInterpolate(\"name\", model_r22.modelName);\n    i0.ɵɵpropertyInterpolate(\"formControlName\", model_r22.modelName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"for\", model_r22.modelName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(model_r22.modelName);\n  }\n}\nfunction NewCarComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵtemplate(1, NewCarComponent_div_13_div_1_Template, 4, 5, \"div\", 39);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.filterModels());\n  }\n}\nfunction NewCarComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \" Model pojazdu jest wymagany. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NewCarComponent_option_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 45);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const year_r25 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", year_r25.year);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(year_r25.year);\n  }\n}\nfunction NewCarComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \" Rok produkcji jest wymagany. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NewCarComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \" Przebieg jest wymagany. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NewCarComponent_ng_container_33_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fuel_r27 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", fuel_r27, \" \");\n  }\n}\nfunction NewCarComponent_ng_container_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, NewCarComponent_ng_container_33_span_1_Template, 2, 1, \"span\", 46);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.chosenFuels);\n  }\n}\nfunction NewCarComponent_ng_template_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Wybierz rodzaj paliwa\");\n  }\n}\nfunction NewCarComponent_div_36_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 40)(1, \"input\", 41);\n    i0.ɵɵlistener(\"change\", function NewCarComponent_div_36_div_1_Template_input_change_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const fuel_r29 = restoredCtx.$implicit;\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r30.updateChoosenFuels(fuel_r29.fuelName));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 42);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const fuel_r29 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", fuel_r29.fuelName);\n    i0.ɵɵpropertyInterpolate(\"name\", fuel_r29.fuelName);\n    i0.ɵɵpropertyInterpolate(\"formControlName\", fuel_r29.fuelName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"for\", fuel_r29.fuelName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(fuel_r29.fuelName);\n  }\n}\nfunction NewCarComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵtemplate(1, NewCarComponent_div_36_div_1_Template, 4, 5, \"div\", 39);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r9.fuels);\n  }\n}\nfunction NewCarComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \" Co najmniej 1 typ paliwa jest wymagany. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NewCarComponent_option_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 45);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const transmissionType_r32 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", transmissionType_r32.typeName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(transmissionType_r32.typeName);\n  }\n}\nfunction NewCarComponent_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \" Rodzaj skrzyni bieg\\u00F3w jest wymagany. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NewCarComponent_option_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 45);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const carbody_r33 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", carbody_r33.carbodyName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(carbody_r33.carbodyName);\n  }\n}\nfunction NewCarComponent_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \" Rodzaj nadwozia jest wymagany. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NewCarComponent_div_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \" Zdj\\u0119cia pojazdu s\\u0105 wymagane(min. 1). \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NewCarComponent_div_61_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 48)(1, \"input\", 49);\n    i0.ɵɵlistener(\"click\", function NewCarComponent_div_61_Template_input_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const opElement_r34 = restoredCtx.$implicit;\n      const ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.updateValue(opElement_r34));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 50);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const opElement_r34 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", opElement_r34.eqElement.elementName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"for\", opElement_r34.eqElement.elementName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(opElement_r34.eqElement.elementName);\n  }\n}\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\nexport class NewCarComponent {\n  onClickFuels(event) {\n    const targetElement = event.target;\n    if (!targetElement.closest('.customFuelSelectAlias')) {\n      this.fuelOptionsHidden = true;\n    }\n    if (!targetElement.closest('.customBrandSelectAlias')) {\n      this.brandOptionsHidden = true;\n    }\n    if (!targetElement.closest('.customModelSelectAlias')) {\n      this.modelOptionsHidden = true;\n    }\n  }\n  updateChoice(dataType, choice) {\n    if (this.checkOrUncheck(dataType, choice)) {\n      this.uncheckPreviousChoice(dataType, choice);\n      this.brandSearchTerm = choice;\n    } else {\n      this.models = [];\n      dataType === \"brand\" ? this.brandSearchTerm = \"\" : this.modelSearchTerm = \"\";\n    }\n  }\n  checkOrUncheck(dataType, choice) {\n    let control;\n    if (dataType === \"brand\") {\n      control = this.addCarForm.get(\"brandOptions\").get(choice);\n    } else {\n      control = this.addCarForm.get(\"modelOptions\").get(choice);\n    }\n    if (control.value) {\n      return true; //zostala teraz zaznaczona\n    }\n\n    return false; //zostala teraz odznaczona\n  }\n\n  uncheckPreviousChoice(dataType, choice) {\n    let tempGroup;\n    if (dataType === \"brand\") {\n      tempGroup = this.addCarForm.get(\"brandOptions\");\n    } else {\n      tempGroup = this.addCarForm.get(\"modelOptions\");\n    }\n    const controls = tempGroup.controls;\n    for (const control in controls) {\n      if (tempGroup.get(control).value === true && control !== choice) {\n        tempGroup.get(control)?.setValue(false);\n      }\n    }\n  }\n  filterBrands() {\n    if (this.brandSearchTerm === \"\") {\n      return this.brands;\n    }\n    return this.brands.filter(brand => brand.brandName.toLowerCase().startsWith(this.brandSearchTerm.toLowerCase()));\n  }\n  filterModels() {\n    if (this.modelSearchTerm === \"\") {\n      return this.models;\n    }\n    return this.models.filter(model => model.modelName.toLowerCase().startsWith(this.modelSearchTerm.toLowerCase()));\n  }\n  onSubmit() {\n    this.submitClicked = true;\n  }\n  displayFuelSelectOptions() {\n    this.fuelOptionsHidden ? this.fuelOptionsHidden = false : this.fuelOptionsHidden = true;\n  }\n  displayBrandSelectOptions() {\n    this.brandOptionsHidden ? this.brandOptionsHidden = false : this.brandOptionsHidden = true;\n  }\n  displayModelSelectOptions() {\n    this.modelOptionsHidden ? this.modelOptionsHidden = false : this.modelOptionsHidden = true;\n  }\n  changeFuelsState() {\n    this.areFuelsLoaded = true;\n  }\n  changeBrandsState() {\n    this.areBrandsLoaded = true;\n  }\n  updateChoosenFuels(formControlName) {\n    if (this.addCarForm.get('fuelOptions').get(formControlName).value) {\n      this.chosenFuels.push(formControlName);\n    } else {\n      const index = this.chosenFuels.indexOf(formControlName, 0);\n      if (index > -1) {\n        this.chosenFuels.splice(index, 1);\n      }\n    }\n  }\n  updateValue(opElement) {\n    if (opElement.isChecked === false) {\n      opElement.isChecked = true;\n    } else {\n      opElement.isChecked = false;\n    }\n  }\n  constructor(addCarService, getEquipmentElementsService, formBuilder, getFiltersService, loadingSpinnerService) {\n    this.addCarService = addCarService;\n    this.getEquipmentElementsService = getEquipmentElementsService;\n    this.formBuilder = formBuilder;\n    this.getFiltersService = getFiltersService;\n    this.loadingSpinnerService = loadingSpinnerService;\n    this.isExpanded = false;\n    this.addCarForm = new FormGroup({});\n    this.equipment = []; //Whole equipment elements\n    this.operationalEquipment = []; //Elements which are available in the car\n    this.vehicleImages = []; //Photos of the car\n    this.chosenFuels = [];\n    this.brands = [];\n    this.models = [];\n    this.fuels = [];\n    this.carbodies = [];\n    this.transmissionTypes = [];\n    this.years = [];\n    this.onDestroy$ = new ReplaySubject(1);\n    this.fuelOptionsHidden = true;\n    this.brandOptionsHidden = true;\n    this.modelOptionsHidden = true;\n    this.areFuelsLoaded = false;\n    this.areBrandsLoaded = false;\n    this.submitClicked = false;\n    this.brandSearchTerm = \"\";\n    this.modelSearchTerm = \"\";\n  }\n  ngOnDestroy() {\n    this.onDestroy$.next(true);\n    this.onDestroy$.complete();\n    this.loadingSpinnerService.changeSpinnerState(false);\n    console.log(\"ngOnDestroy - newCar\");\n  }\n  ngOnInit() {\n    this.initForm();\n    forkJoin([this.getEquipmentElements(), this.getCarbodies(), this.getFuels(), this.getTransmissionTypes(), this.getBrands(), this.getModels(), this.getYears()]).pipe(takeUntil(this.onDestroy$)).subscribe({\n      next: () => {\n        this.loadingSpinnerService.changeSpinnerState(true);\n        this.initFuelOptions();\n        this.initBrandOptions();\n        this.initModelOptions();\n        this.changeFuelsState();\n        this.changeBrandsState();\n      },\n      error: err => {\n        console.log(\"error\", err);\n      }\n    });\n  }\n  initForm() {\n    this.addCarForm = this.formBuilder.group({\n      yearOfProduction: ['', [Validators.required, createIsAnOptionValidator(this.years)]],\n      mileage: ['', Validators.required],\n      carbodyType: ['', [Validators.required, createIsAnOptionValidator(this.carbodies)]],\n      transmissionType: ['', [Validators.required, createIsAnOptionValidator(this.transmissionTypes)]],\n      vehicleImage: ['', Validators.required]\n    });\n    this.addCarForm.addControl('fuelOptions', new FormGroup({}));\n    this.addCarForm.get('fuelOptions').addValidators(createAtLeastOneValidator());\n    this.addCarForm.addControl('brandOptions', new FormGroup({}));\n    this.addCarForm.addControl('modelOptions', new FormGroup({}));\n  }\n  initFuelOptions() {\n    const fuelsTemp = this.addCarForm.controls.fuelOptions;\n    for (const fuel of this.fuels) {\n      fuelsTemp.addControl(fuel.fuelName, new FormControl(false));\n    }\n  }\n  initBrandOptions() {\n    const brandsTemp = this.addCarForm.controls.brandOptions;\n    for (const brand of this.brands) {\n      brandsTemp.addControl(brand.brandName, new FormControl(false));\n    }\n  }\n  initModelOptions() {\n    const modelsTemp = this.addCarForm.controls.modelOptions;\n    for (const model of this.models) {\n      modelsTemp.addControl(model.modelName, new FormControl(false));\n    }\n  }\n  fileChanged(event) {\n    const imageInputElement = event.target;\n    if (imageInputElement.files && imageInputElement.files.length > 0) {\n      const files = imageInputElement.files;\n      for (const file of files) {\n        this.vehicleImages.push(file);\n      }\n    }\n  }\n  submitForm() {\n    if (this.addCarForm.valid) {\n      const formData = this.addCarForm.value;\n      const newVehicle = new Vehicle();\n      newVehicle.brandId = this.brands.find(brand => brand.brandName === formData.brand).brandId;\n      newVehicle.modelId = this.models.find(model => model.modelName === formData.model).modelId;\n      newVehicle.yearOfProductionId = this.years.find(year => year.year === formData.yearOfProduction).yearId;\n      newVehicle.mileage = formData.mileage;\n      formData.fuels.forEach(f1 => {\n        const matchingFuel = this.fuels.find(f2 => f2.fuelName === f1);\n        if (matchingFuel) {\n          newVehicle.fuels.push(matchingFuel);\n        }\n      });\n      newVehicle.carbodyId = this.carbodies.find(c => c.carbodyName === formData.carBodyType).carbodyId;\n      for (const opElement of this.operationalEquipment) {\n        if (opElement.isChecked === true) {\n          const matchingEquipmentElement = this.equipment.find(ee => ee.elementId === opElement.eqElement.elementId);\n          if (matchingEquipmentElement) {\n            newVehicle.equipment.push(matchingEquipmentElement);\n          }\n        }\n      }\n      this.addCarService.addVehicle(newVehicle).pipe(takeUntil(this.onDestroy$)).subscribe({\n        next: () => {\n          debugger;\n        },\n        error: err => {\n          console.log(\"błąd\"), console.log(err);\n        }\n      });\n    } else {\n      console.log(\"Form is not valid!!!\");\n      this.getFormValidationErrors();\n    }\n  }\n  getFormValidationErrors() {\n    Object.keys(this.addCarForm.controls).forEach((key, value) => {\n      const controlErrors = this.addCarForm.get(key).errors;\n      Object.keys(controlErrors || {}).forEach(keyError => {\n        console.log(`Key control: ${key}, keyError: ${keyError}, errValue: ${controlErrors[keyError]}`);\n      });\n    });\n  }\n  getEquipmentElements() {\n    return this.getEquipmentElementsService.getEquipmentElements().pipe(map(r => this.equipment = r));\n  }\n  getCarbodies() {\n    return this.getFiltersService.getCarbodies().pipe(map(r => this.carbodies = r));\n  }\n  getFuels() {\n    return this.getFiltersService.getFuels().pipe(map(r => this.fuels = r));\n  }\n  getTransmissionTypes() {\n    return this.getFiltersService.getTransmissionTypes().pipe(map(r => this.transmissionTypes = r));\n  }\n  getModels() {\n    return this.getFiltersService.getModels().pipe(map(r => this.models = r));\n  }\n  getBrands() {\n    return this.getFiltersService.getBrands().pipe(map(r => this.brands = r));\n  }\n  getYears() {\n    return this.getFiltersService.getYears().pipe(map(r => this.years = r));\n  }\n  collapse() {\n    this.isExpanded = false;\n  }\n  toggle() {\n    this.isExpanded = !this.isExpanded;\n  }\n}\nNewCarComponent.ɵfac = function NewCarComponent_Factory(t) {\n  return new (t || NewCarComponent)(i0.ɵɵdirectiveInject(i1.VehiclesService), i0.ɵɵdirectiveInject(i2.EquipmentService), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.FiltersService), i0.ɵɵdirectiveInject(i5.LoadingSpinnerService));\n};\nNewCarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NewCarComponent,\n  selectors: [[\"new-car\"]],\n  hostBindings: function NewCarComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"click\", function NewCarComponent_click_HostBindingHandler($event) {\n        return ctx.onClickFuels($event);\n      }, false, i0.ɵɵresolveDocument);\n    }\n  },\n  decls: 65,\n  vars: 23,\n  consts: [[1, \"pt-3\", \"pb-3\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"container-fluid\"], [1, \"row\", \"justify-content-center\"], [1, \"col-8\", \"mb-3\", \"position-relative\", \"customBrandSelectAlias\", \"customBrandSelect\"], [\"for\", \"customBrandSelect\", 1, \"form-label\"], [\"type\", \"text\", \"placeholder\", \"Marka pojazdu\", 1, \"form-control\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\", \"click\"], [\"class\", \"options position-absolute w-auto\", \"formGroupName\", \"brandOptions\", 4, \"ngIf\"], [1, \"col-8\", \"mb-3\", \"position-relative\", \"customModelSelectAlias\", \"customModelSelect\"], [\"for\", \"customModelSelect\", 1, \"form-label\"], [\"type\", \"text\", \"placeholder\", \"Model pojazdu\", 1, \"form-control\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\", \"click\"], [\"class\", \"options position-absolute w-auto\", \"formGroupName\", \"modelOptions\", 4, \"ngIf\"], [\"class\", \"field-message\", 4, \"ngIf\"], [1, \"col-8\", \"mb-3\"], [\"for\", \"YearOfProdSelect\", 1, \"form-label\"], [\"formControlName\", \"yearOfProduction\", \"id\", \"YearOfProdSelect\", 1, \"form-select\"], [\"value\", \"\", \"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"input-group\"], [\"for\", \"mileageInput\", 1, \"form-label\", \"w-100\"], [\"formControlName\", \"mileage\", \"id\", \"mileageInput\", \"type\", \"text\", \"placeholder\", \"Przebieg\", 1, \"form-control\"], [1, \"col-8\", \"mb-3\", \"position-relative\", \"customFuelSelectAlias\"], [\"for\", \"customSelect\", 1, \"form-label\"], [\"id\", \"customSelect\", \"tabindex\", \"0\", 1, \"customSelect\", 3, \"click\"], [4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [\"class\", \"options position-absolute w-auto\", \"formGroupName\", \"fuelOptions\", 4, \"ngIf\"], [\"for\", \"TransmissionTypeSelect\", 1, \"form-label\"], [\"formControlName\", \"transmissionType\", \"id\", \"TransmissionTypeSelect\", 1, \"form-select\"], [\"for\", \"CarbodySelect\", 1, \"form-label\"], [\"formControlName\", \"carbodyType\", \"id\", \"CarbodySelect\", 1, \"form-select\"], [\"for\", \"vehicleImage\", 1, \"form-label\"], [\"formControlName\", \"vehicleImage\", \"id\", \"vehicleImage\", \"type\", \"file\", \"multiple\", \"\", 1, \"form-control\", 3, \"change\"], [1, \"col-8\", \"mb-5\"], [1, \"row\"], [\"class\", \"col-4 mb-2 d-flex justify-content-center\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-8\", \"d-flex\", \"justify-content-center\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"w-auto\", \"submitBtn\", 3, \"click\"], [\"formGroupName\", \"brandOptions\", 1, \"options\", \"position-absolute\", \"w-auto\"], [\"class\", \"option d-flex\", 4, \"ngFor\", \"ngForOf\"], [1, \"option\", \"d-flex\"], [\"type\", \"checkbox\", 3, \"id\", \"name\", \"formControlName\", \"change\"], [1, \"label-box\", \"flex-grow-1\", 3, \"for\"], [\"formGroupName\", \"modelOptions\", 1, \"options\", \"position-absolute\", \"w-auto\"], [1, \"field-message\"], [3, \"value\"], [4, \"ngFor\", \"ngForOf\"], [\"formGroupName\", \"fuelOptions\", 1, \"options\", \"position-absolute\", \"w-auto\"], [1, \"col-4\", \"mb-2\", \"d-flex\", \"justify-content-center\"], [\"type\", \"checkbox\", \"autocomplete\", \"off\", 1, \"btn-check\", 3, \"id\", \"click\"], [1, \"btn\", \"btn-outline-primary\", 3, \"for\"]],\n  template: function NewCarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function NewCarComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.submitForm();\n      });\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"label\", 5);\n      i0.ɵɵtext(6, \"Marka pojazdu\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function NewCarComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.brandSearchTerm = $event;\n      })(\"click\", function NewCarComponent_Template_input_click_7_listener() {\n        return ctx.displayBrandSelectOptions();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(8, NewCarComponent_div_8_Template, 2, 1, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 8)(10, \"label\", 9);\n      i0.ɵɵtext(11, \"Marka pojazdu\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function NewCarComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.modelSearchTerm = $event;\n      })(\"click\", function NewCarComponent_Template_input_click_12_listener() {\n        return ctx.displayModelSelectOptions();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(13, NewCarComponent_div_13_Template, 2, 1, \"div\", 11);\n      i0.ɵɵtemplate(14, NewCarComponent_div_14_Template, 2, 0, \"div\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 13)(16, \"label\", 14);\n      i0.ɵɵtext(17, \"Rok produkcji\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"select\", 15)(19, \"option\", 16);\n      i0.ɵɵtext(20, \"Rok produkcji\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(21, NewCarComponent_option_21_Template, 2, 2, \"option\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(22, NewCarComponent_div_22_Template, 2, 0, \"div\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 13)(24, \"div\", 18)(25, \"label\", 19);\n      i0.ɵɵtext(26, \"Przebieg\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(27, \"input\", 20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(28, NewCarComponent_div_28_Template, 2, 0, \"div\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\", 21)(30, \"label\", 22);\n      i0.ɵɵtext(31, \"Rodzaj paliwa\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 23);\n      i0.ɵɵlistener(\"click\", function NewCarComponent_Template_div_click_32_listener() {\n        return ctx.displayFuelSelectOptions();\n      });\n      i0.ɵɵtemplate(33, NewCarComponent_ng_container_33_Template, 2, 1, \"ng-container\", 24);\n      i0.ɵɵtemplate(34, NewCarComponent_ng_template_34_Template, 1, 0, \"ng-template\", null, 25, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(36, NewCarComponent_div_36_Template, 2, 1, \"div\", 26);\n      i0.ɵɵtemplate(37, NewCarComponent_div_37_Template, 2, 0, \"div\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"div\", 13)(39, \"label\", 27);\n      i0.ɵɵtext(40, \"Rodzaj skrzyni bieg\\u00F3w\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"select\", 28)(42, \"option\", 16);\n      i0.ɵɵtext(43, \"Rodzaj skrzyni bieg\\u00F3w\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(44, NewCarComponent_option_44_Template, 2, 2, \"option\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(45, NewCarComponent_div_45_Template, 2, 0, \"div\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"div\", 13)(47, \"label\", 29);\n      i0.ɵɵtext(48, \"Rodzaj nadwozia\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"select\", 30)(50, \"option\", 16);\n      i0.ɵɵtext(51, \"Rodzaj nadwozia\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(52, NewCarComponent_option_52_Template, 2, 2, \"option\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(53, NewCarComponent_div_53_Template, 2, 0, \"div\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"div\", 13)(55, \"label\", 31);\n      i0.ɵɵtext(56, \"Zdj\\u0119cia pojazdu\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"input\", 32);\n      i0.ɵɵlistener(\"change\", function NewCarComponent_Template_input_change_57_listener($event) {\n        return ctx.fileChanged($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(58, NewCarComponent_div_58_Template, 2, 0, \"div\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"div\", 33)(60, \"div\", 34);\n      i0.ɵɵtemplate(61, NewCarComponent_div_61_Template, 4, 3, \"div\", 35);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(62, \"div\", 36)(63, \"button\", 37);\n      i0.ɵɵlistener(\"click\", function NewCarComponent_Template_button_click_63_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵtext(64, \"Dodaj pojazd\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      const _r7 = i0.ɵɵreference(35);\n      let tmp_7_0;\n      let tmp_9_0;\n      let tmp_10_0;\n      let tmp_14_0;\n      let tmp_16_0;\n      let tmp_18_0;\n      let tmp_19_0;\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.addCarForm);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.brandSearchTerm)(\"ngModelOptions\", i0.ɵɵpureFunction0(21, _c0));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.areBrandsLoaded && !ctx.brandOptionsHidden);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.modelSearchTerm)(\"ngModelOptions\", i0.ɵɵpureFunction0(22, _c0));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.modelOptionsHidden);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.submitClicked && ((tmp_7_0 = ctx.addCarForm.get(\"model\")) == null ? null : tmp_7_0.hasError(\"required\")));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.years);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.submitClicked && ((tmp_9_0 = ctx.addCarForm.get(\"yearOfProduction\")) == null ? null : tmp_9_0.hasError(\"required\")));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.submitClicked && ((tmp_10_0 = ctx.addCarForm.get(\"mileage\")) == null ? null : tmp_10_0.hasError(\"required\")));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.chosenFuels.length > 0)(\"ngIfElse\", _r7);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.areFuelsLoaded && !ctx.fuelOptionsHidden);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.submitClicked && ((tmp_14_0 = ctx.addCarForm.get(\"fuelOptions\")) == null ? null : tmp_14_0.hasError(\"atLeastOne\")));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.transmissionTypes);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.submitClicked && ((tmp_16_0 = ctx.addCarForm.get(\"transmissionType\")) == null ? null : tmp_16_0.hasError(\"required\")));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.carbodies);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.submitClicked && ((tmp_18_0 = ctx.addCarForm.get(\"carbodyType\")) == null ? null : tmp_18_0.hasError(\"required\")));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.submitClicked && ((tmp_19_0 = ctx.addCarForm.get(\"vehicleImage\")) == null ? null : tmp_19_0.hasError(\"required\")));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.operationalEquipment);\n    }\n  },\n  dependencies: [i6.NgForOf, i6.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.CheckboxControlValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.FormGroupDirective, i3.FormControlName, i3.FormGroupName],\n  styles: [\"section[_ngcontent-%COMP%] {\\r\\n  background-color: #faf9f9;\\r\\n}\\r\\n\\r\\n.submitBtn[_ngcontent-%COMP%] {\\r\\n  background-color: #7743DB;\\r\\n}\\r\\n\\r\\n.btn-outline-primary[_ngcontent-%COMP%] {\\r\\n  --bs-btn-color: #7743DB;\\r\\n  --bs-btn-border-color: #7743DB;\\r\\n  --bs-btn-hover-color: #fff;\\r\\n  --bs-btn-hover-bg: #7743DB;\\r\\n  --bs-btn-hover-border-color: #7743DB;\\r\\n  --bs-btn-focus-shadow-rgb: 13,110,253;\\r\\n  --bs-btn-active-color: #fff;\\r\\n  --bs-btn-active-bg: #7743DB;\\r\\n  --bs-btn-active-border-color: #7743DB;\\r\\n  --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);\\r\\n  --bs-btn-disabled-color: #7743DB;\\r\\n  --bs-btn-disabled-bg: transparent;\\r\\n  --bs-btn-disabled-border-color: #7743DB;\\r\\n  --bs-gradient: none;\\r\\n}\\r\\n\\r\\n.customSelect[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%] {\\r\\n  padding: .375rem 2.25rem .375rem .75rem;\\r\\n  font-size: var(--bs-body-font-size);\\r\\n  font-weight: var(--bs-body-font-weight);\\r\\n  line-height: var(--bs-body-font-height);\\r\\n  color: var(--bs-gray);\\r\\n  border-style: var(--bs-border-style);\\r\\n  border-color: var(--bs-gray-400);\\r\\n  border-width: var(--bs-border-width);\\r\\n  border-radius: var(--bs-border-radius);\\r\\n  box-shadow: var(--bs-box-shadow-lg);\\r\\n  cursor: pointer;\\r\\n  background-color: var(--bs-white);\\r\\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\\r\\n}\\r\\n\\r\\n.customSelect[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus, .form-control[_ngcontent-%COMP%]:focus {\\r\\n  border-color: #7743DB;\\r\\n  box-shadow: 0 0 0 0.1rem white, 0 0 0 0.25rem #7743DB;\\r\\n}\\r\\n\\r\\n.customSelect[_ngcontent-%COMP%]:not(:focus) {\\r\\n  border-color: var(--bs-gray-400);\\r\\n  box-shadow: var(--bs-box-shadow-lg);\\r\\n}\\r\\n\\r\\n.customSelect[_ngcontent-%COMP%]::after {\\r\\n  content: '\\\\23F7';\\r\\n  position: absolute;\\r\\n  right: 25px;\\r\\n}\\r\\n\\r\\n.customBrandSelect[_ngcontent-%COMP%]::after, .customModelSelect[_ngcontent-%COMP%]::after {\\r\\n  color: var(--bs-gray);\\r\\n  content: '\\\\23F7';\\r\\n  position: absolute;\\r\\n  right: 25px;\\r\\n  top: 40px;\\r\\n}\\r\\n\\r\\n.options[_ngcontent-%COMP%] {\\r\\n  color: var(--bs-gray-900);\\r\\n  border-style: solid;\\r\\n  border-color: var(--bs-gray-400);\\r\\n  border-width: 1px;\\r\\n  border-radius: var(--bs-border-radius);\\r\\n  cursor: pointer;\\r\\n  background-color: var(--bs-body-bg);\\r\\n  z-index: 9999;\\r\\n  left: calc(var(--bs-gutter-x) * .5);\\r\\n  right: calc(var(--bs-gutter-x) * .5);\\r\\n}\\r\\n\\r\\n\\r\\n.option[_ngcontent-%COMP%] {\\r\\n  padding: var(--bs-border-radius) .75rem;\\r\\n  font-size: var(--bs-body-font-size);\\r\\n  font-weight: var(--bs-body-font-weight);\\r\\n  line-height: var(--bs-body-line-height);\\r\\n}\\r\\n\\r\\n.option[_ngcontent-%COMP%]:first-child {\\r\\n  border-top-left-radius: var(--bs-border-radius);\\r\\n  border-top-right-radius: var(--bs-border-radius);\\r\\n}\\r\\n\\r\\n.option[_ngcontent-%COMP%]:last-child {\\r\\n  border-bottom-right-radius: var(--bs-border-radius);\\r\\n  border-bottom-left-radius: var(--bs-border-radius);\\r\\n}\\r\\n\\r\\n.option[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #666;\\r\\n  color: var(--bs-white);\\r\\n}\\r\\n\\r\\n.label-box[_ngcontent-%COMP%] {\\r\\n  padding-left: 5px;\\r\\n}\\r\\n\\r\\n#mileageInput[_ngcontent-%COMP%] {\\r\\n  border-radius: var(--bs-border-radius);\\r\\n}\\r\\n\\r\\n.field-message[_ngcontent-%COMP%] {\\r\\n  margin-top: 5px;\\r\\n  color: red;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbmV3LWNhci9uZXctY2FyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx1QkFBdUI7RUFDdkIsOEJBQThCO0VBQzlCLDBCQUEwQjtFQUMxQiwwQkFBMEI7RUFDMUIsb0NBQW9DO0VBQ3BDLHFDQUFxQztFQUNyQywyQkFBMkI7RUFDM0IsMkJBQTJCO0VBQzNCLHFDQUFxQztFQUNyQyw0REFBNEQ7RUFDNUQsZ0NBQWdDO0VBQ2hDLGlDQUFpQztFQUNqQyx1Q0FBdUM7RUFDdkMsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsdUNBQXVDO0VBQ3ZDLG1DQUFtQztFQUNuQyx1Q0FBdUM7RUFDdkMsdUNBQXVDO0VBQ3ZDLHFCQUFxQjtFQUNyQixvQ0FBb0M7RUFDcEMsZ0NBQWdDO0VBQ2hDLG9DQUFvQztFQUNwQyxzQ0FBc0M7RUFDdEMsbUNBQW1DO0VBQ25DLGVBQWU7RUFDZixpQ0FBaUM7RUFDakMsd0VBQXdFO0FBQzFFOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLHFEQUFxRDtBQUN2RDs7QUFFQTtFQUNFLGdDQUFnQztFQUNoQyxtQ0FBbUM7QUFDckM7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxTQUFTO0FBQ1g7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsbUJBQW1CO0VBQ25CLGdDQUFnQztFQUNoQyxpQkFBaUI7RUFDakIsc0NBQXNDO0VBQ3RDLGVBQWU7RUFDZixtQ0FBbUM7RUFDbkMsYUFBYTtFQUNiLG1DQUFtQztFQUNuQyxvQ0FBb0M7QUFDdEM7OztBQUdBO0VBQ0UsdUNBQXVDO0VBQ3ZDLG1DQUFtQztFQUNuQyx1Q0FBdUM7RUFDdkMsdUNBQXVDO0FBQ3pDOztBQUVBO0VBQ0UsK0NBQStDO0VBQy9DLGdEQUFnRDtBQUNsRDs7QUFFQTtFQUNFLG1EQUFtRDtFQUNuRCxrREFBa0Q7QUFDcEQ7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0Usc0NBQXNDO0FBQ3hDOztBQUVBO0VBQ0UsZUFBZTtFQUNmLFVBQVU7QUFDWiIsInNvdXJjZXNDb250ZW50IjpbInNlY3Rpb24ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmYWY5Zjk7XHJcbn1cclxuXHJcbi5zdWJtaXRCdG4ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM3NzQzREI7XHJcbn1cclxuXHJcbi5idG4tb3V0bGluZS1wcmltYXJ5IHtcclxuICAtLWJzLWJ0bi1jb2xvcjogIzc3NDNEQjtcclxuICAtLWJzLWJ0bi1ib3JkZXItY29sb3I6ICM3NzQzREI7XHJcbiAgLS1icy1idG4taG92ZXItY29sb3I6ICNmZmY7XHJcbiAgLS1icy1idG4taG92ZXItYmc6ICM3NzQzREI7XHJcbiAgLS1icy1idG4taG92ZXItYm9yZGVyLWNvbG9yOiAjNzc0M0RCO1xyXG4gIC0tYnMtYnRuLWZvY3VzLXNoYWRvdy1yZ2I6IDEzLDExMCwyNTM7XHJcbiAgLS1icy1idG4tYWN0aXZlLWNvbG9yOiAjZmZmO1xyXG4gIC0tYnMtYnRuLWFjdGl2ZS1iZzogIzc3NDNEQjtcclxuICAtLWJzLWJ0bi1hY3RpdmUtYm9yZGVyLWNvbG9yOiAjNzc0M0RCO1xyXG4gIC0tYnMtYnRuLWFjdGl2ZS1zaGFkb3c6IGluc2V0IDAgM3B4IDVweCByZ2JhKDAsIDAsIDAsIDAuMTI1KTtcclxuICAtLWJzLWJ0bi1kaXNhYmxlZC1jb2xvcjogIzc3NDNEQjtcclxuICAtLWJzLWJ0bi1kaXNhYmxlZC1iZzogdHJhbnNwYXJlbnQ7XHJcbiAgLS1icy1idG4tZGlzYWJsZWQtYm9yZGVyLWNvbG9yOiAjNzc0M0RCO1xyXG4gIC0tYnMtZ3JhZGllbnQ6IG5vbmU7XHJcbn1cclxuXHJcbi5jdXN0b21TZWxlY3QsIC5mb3JtLXNlbGVjdCwgLmZvcm0tY29udHJvbCB7XHJcbiAgcGFkZGluZzogLjM3NXJlbSAyLjI1cmVtIC4zNzVyZW0gLjc1cmVtO1xyXG4gIGZvbnQtc2l6ZTogdmFyKC0tYnMtYm9keS1mb250LXNpemUpO1xyXG4gIGZvbnQtd2VpZ2h0OiB2YXIoLS1icy1ib2R5LWZvbnQtd2VpZ2h0KTtcclxuICBsaW5lLWhlaWdodDogdmFyKC0tYnMtYm9keS1mb250LWhlaWdodCk7XHJcbiAgY29sb3I6IHZhcigtLWJzLWdyYXkpO1xyXG4gIGJvcmRlci1zdHlsZTogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKTtcclxuICBib3JkZXItY29sb3I6IHZhcigtLWJzLWdyYXktNDAwKTtcclxuICBib3JkZXItd2lkdGg6IHZhcigtLWJzLWJvcmRlci13aWR0aCk7XHJcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tYnMtYm9yZGVyLXJhZGl1cyk7XHJcbiAgYm94LXNoYWRvdzogdmFyKC0tYnMtYm94LXNoYWRvdy1sZyk7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJzLXdoaXRlKTtcclxuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4xNXMgZWFzZS1pbi1vdXQsIGJveC1zaGFkb3cgMC4xNXMgZWFzZS1pbi1vdXQ7XHJcbn1cclxuXHJcbi5jdXN0b21TZWxlY3Q6Zm9jdXMsIC5mb3JtLXNlbGVjdDpmb2N1cywgLmZvcm0tY29udHJvbDpmb2N1cyB7XHJcbiAgYm9yZGVyLWNvbG9yOiAjNzc0M0RCO1xyXG4gIGJveC1zaGFkb3c6IDAgMCAwIDAuMXJlbSB3aGl0ZSwgMCAwIDAgMC4yNXJlbSAjNzc0M0RCO1xyXG59XHJcblxyXG4uY3VzdG9tU2VsZWN0Om5vdCg6Zm9jdXMpIHtcclxuICBib3JkZXItY29sb3I6IHZhcigtLWJzLWdyYXktNDAwKTtcclxuICBib3gtc2hhZG93OiB2YXIoLS1icy1ib3gtc2hhZG93LWxnKTtcclxufVxyXG5cclxuLmN1c3RvbVNlbGVjdDo6YWZ0ZXIge1xyXG4gIGNvbnRlbnQ6ICdcXDIzRjcnO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICByaWdodDogMjVweDtcclxufVxyXG5cclxuLmN1c3RvbUJyYW5kU2VsZWN0OjphZnRlciwgLmN1c3RvbU1vZGVsU2VsZWN0OjphZnRlciB7XHJcbiAgY29sb3I6IHZhcigtLWJzLWdyYXkpO1xyXG4gIGNvbnRlbnQ6ICdcXDIzRjcnO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICByaWdodDogMjVweDtcclxuICB0b3A6IDQwcHg7XHJcbn1cclxuXHJcbi5vcHRpb25zIHtcclxuICBjb2xvcjogdmFyKC0tYnMtZ3JheS05MDApO1xyXG4gIGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1icy1ncmF5LTQwMCk7XHJcbiAgYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tYnMtYm9yZGVyLXJhZGl1cyk7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJzLWJvZHktYmcpO1xyXG4gIHotaW5kZXg6IDk5OTk7XHJcbiAgbGVmdDogY2FsYyh2YXIoLS1icy1ndXR0ZXIteCkgKiAuNSk7XHJcbiAgcmlnaHQ6IGNhbGModmFyKC0tYnMtZ3V0dGVyLXgpICogLjUpO1xyXG59XHJcblxyXG5cclxuLm9wdGlvbiB7XHJcbiAgcGFkZGluZzogdmFyKC0tYnMtYm9yZGVyLXJhZGl1cykgLjc1cmVtO1xyXG4gIGZvbnQtc2l6ZTogdmFyKC0tYnMtYm9keS1mb250LXNpemUpO1xyXG4gIGZvbnQtd2VpZ2h0OiB2YXIoLS1icy1ib2R5LWZvbnQtd2VpZ2h0KTtcclxuICBsaW5lLWhlaWdodDogdmFyKC0tYnMtYm9keS1saW5lLWhlaWdodCk7XHJcbn1cclxuXHJcbi5vcHRpb246Zmlyc3QtY2hpbGQge1xyXG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IHZhcigtLWJzLWJvcmRlci1yYWRpdXMpO1xyXG4gIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiB2YXIoLS1icy1ib3JkZXItcmFkaXVzKTtcclxufVxyXG5cclxuLm9wdGlvbjpsYXN0LWNoaWxkIHtcclxuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogdmFyKC0tYnMtYm9yZGVyLXJhZGl1cyk7XHJcbiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogdmFyKC0tYnMtYm9yZGVyLXJhZGl1cyk7XHJcbn1cclxuXHJcbi5vcHRpb246aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM2NjY7XHJcbiAgY29sb3I6IHZhcigtLWJzLXdoaXRlKTtcclxufVxyXG5cclxuLmxhYmVsLWJveCB7XHJcbiAgcGFkZGluZy1sZWZ0OiA1cHg7XHJcbn1cclxuXHJcbiNtaWxlYWdlSW5wdXQge1xyXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJzLWJvcmRlci1yYWRpdXMpO1xyXG59XHJcblxyXG4uZmllbGQtbWVzc2FnZSB7XHJcbiAgbWFyZ2luLXRvcDogNXB4O1xyXG4gIGNvbG9yOiByZWQ7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Vehicle","FormGroup","Validators","FormControl","ReplaySubject","takeUntil","map","forkJoin","createAtLeastOneValidator","createIsAnOptionValidator","i0","NewCarComponent","onClickFuels","event","targetElement","target","closest","fuelOptionsHidden","brandOptionsHidden","modelOptionsHidden","updateChoice","dataType","choice","checkOrUncheck","uncheckPreviousChoice","brandSearchTerm","models","modelSearchTerm","control","addCarForm","get","value","tempGroup","controls","setValue","filterBrands","brands","filter","brand","brandName","toLowerCase","startsWith","filterModels","model","modelName","onSubmit","submitClicked","displayFuelSelectOptions","displayBrandSelectOptions","displayModelSelectOptions","changeFuelsState","areFuelsLoaded","changeBrandsState","areBrandsLoaded","updateChoosenFuels","formControlName","chosenFuels","push","index","indexOf","splice","updateValue","opElement","isChecked","constructor","addCarService","getEquipmentElementsService","formBuilder","getFiltersService","loadingSpinnerService","ngOnDestroy","onDestroy$","next","complete","changeSpinnerState","console","log","ngOnInit","initForm","getEquipmentElements","getCarbodies","getFuels","getTransmissionTypes","getBrands","getModels","getYears","pipe","subscribe","initFuelOptions","initBrandOptions","initModelOptions","error","err","group","yearOfProduction","required","years","mileage","carbodyType","carbodies","transmissionType","transmissionTypes","vehicleImage","addControl","addValidators","fuelsTemp","fuelOptions","fuel","fuels","fuelName","brandsTemp","brandOptions","modelsTemp","modelOptions","fileChanged","imageInputElement","files","length","file","vehicleImages","submitForm","valid","formData","newVehicle","brandId","find","modelId","yearOfProductionId","year","yearId","forEach","f1","matchingFuel","f2","carbodyId","c","carbodyName","carBodyType","operationalEquipment","matchingEquipmentElement","equipment","ee","elementId","eqElement","addVehicle","getFormValidationErrors","Object","keys","key","controlErrors","errors","keyError","r","collapse","isExpanded","toggle","selectors","hostBindings","ctx"],"sourceRoot":"","sources":["C:\\Users\\rutko\\source\\repos\\Car-Fleet-Management\\CarFleet-Project\\ClientApp\\src\\app\\new-car\\new-car.component.ts","C:\\Users\\rutko\\source\\repos\\Car-Fleet-Management\\CarFleet-Project\\ClientApp\\src\\app\\new-car\\new-car.component.html"],"sourcesContent":["/* eslint-disable @angular-eslint/component-selector */\r\n/* eslint-disable no-debugger */\r\nimport { Component, HostListener, OnDestroy, OnInit } from '@angular/core';\r\nimport { VehiclesService } from '../../services/vehicles.service';\r\nimport { EquipmentService } from '../../services/equipment.service';\r\nimport { FiltersService } from '../../services/filters.service';\r\nimport { LoadingSpinnerService } from '../../services/loading-spinner.service';\r\nimport { AddCarInterface } from '../../interfaces/add-car.interface';\r\nimport { Vehicle } from '../../models/Vehicle';\r\nimport { EquipmentElement } from '../../models/EquipmentElement';\r\nimport { FormBuilder, FormGroup, Validators, ValidationErrors, FormControl } from '@angular/forms';\r\nimport { ReplaySubject, takeUntil, map, forkJoin } from 'rxjs';\r\nimport { Brand } from '../../models/Brand';\r\nimport { Model } from '../../models/Model';\r\nimport { Fuel } from '../../models/Fuel';\r\nimport { Carbody } from '../../models/Carbody';\r\nimport { TransmissionType } from '../../models/TransmissionType';\r\nimport { OperationalEquipment } from '../../interfaces/operational-equipment.interface';\r\nimport { YearOfProduction } from '../../models/YearOfProduction';\r\nimport { createAtLeastOneValidator } from '../../custom-validators/at-least-one';\r\nimport { createIsAnOptionValidator } from '../../custom-validators/is-an-option';\r\n\r\n@Component({\r\n  selector: 'new-car',\r\n  templateUrl: './new-car.component.html',\r\n  styleUrls: ['./new-car.component.css'],\r\n})\r\nexport class NewCarComponent implements OnInit, OnDestroy {\r\n  private isExpanded = false;\r\n  public addCarForm: FormGroup = new FormGroup({});\r\n\r\n  private equipment: EquipmentElement[] = []; //Whole equipment elements\r\n  public operationalEquipment: OperationalEquipment[] = []; //Elements which are available in the car\r\n  public vehicleImages: File[] = []; //Photos of the car\r\n\r\n  public chosenFuels: string[] = [];\r\n\r\n  public brands: Brand[] = [];\r\n  public models: Model[] = [];\r\n  public fuels: Fuel[] = [];\r\n  public carbodies: Carbody[] = [];\r\n  public transmissionTypes: TransmissionType[] = [];\r\n  public years: YearOfProduction[] = [];\r\n\r\n  private onDestroy$: ReplaySubject<boolean> = new ReplaySubject<boolean>(1);\r\n\r\n  public fuelOptionsHidden = true;\r\n  public brandOptionsHidden = true;\r\n  public modelOptionsHidden = true;\r\n\r\n  public areFuelsLoaded = false;\r\n  public areBrandsLoaded = false;\r\n\r\n  public submitClicked = false;\r\n\r\n  public brandSearchTerm = \"\";\r\n  public modelSearchTerm = \"\";\r\n\r\n  @HostListener('document:click', ['$event'])\r\n  onClickFuels(event: MouseEvent) {\r\n    const targetElement = event.target as HTMLElement;\r\n\r\n    if (!targetElement.closest('.customFuelSelectAlias')) {\r\n      this.fuelOptionsHidden = true;\r\n    }\r\n    if (!targetElement.closest('.customBrandSelectAlias')) {\r\n      this.brandOptionsHidden = true;\r\n    }\r\n    if (!targetElement.closest('.customModelSelectAlias')) {\r\n      this.modelOptionsHidden = true;\r\n    } \r\n  }\r\n\r\n  updateChoice(dataType: string, choice: string) {\r\n    if (this.checkOrUncheck(dataType, choice)) {\r\n            \r\n      this.uncheckPreviousChoice(dataType, choice);\r\n      this.brandSearchTerm = choice;\r\n    } else {\r\n      this.models = [];\r\n      (dataType === \"brand\") ? this.brandSearchTerm = \"\" : this.modelSearchTerm = \"\";\r\n    }\r\n  }\r\n\r\n  checkOrUncheck(dataType: string, choice: string) {\r\n    let control;\r\n\r\n    if (dataType === \"brand\") {\r\n      control = this.addCarForm.get(\"brandOptions\")!.get(choice)!; \r\n    } else {\r\n      control = this.addCarForm.get(\"modelOptions\")!.get(choice)!;\r\n    }\r\n\r\n    if (control.value) {\r\n      return true; //zostala teraz zaznaczona\r\n    }\r\n    return false; //zostala teraz odznaczona\r\n  }\r\n\r\n  uncheckPreviousChoice(dataType: string, choice: string) {\r\n    let tempGroup;\r\n\r\n    if (dataType === \"brand\") {\r\n      tempGroup = this.addCarForm.get(\"brandOptions\") as FormGroup;\r\n    } else {\r\n      tempGroup = this.addCarForm.get(\"modelOptions\") as FormGroup;\r\n    }\r\n\r\n    const controls = tempGroup.controls;\r\n\r\n    for (const control in controls) {\r\n      if (tempGroup.get(control)!.value === true && control !== choice) {\r\n        tempGroup.get(control)?.setValue(false);\r\n      }\r\n    }\r\n  }\r\n\r\n  filterBrands() {\r\n      if (this.brandSearchTerm === \"\") {\r\n        return this.brands;\r\n      }\r\n      return this.brands.filter(brand => brand.brandName.toLowerCase().startsWith(this.brandSearchTerm.toLowerCase()));\r\n  }\r\n\r\n  filterModels() {\r\n    if (this.modelSearchTerm === \"\") {\r\n      return this.models;\r\n    }\r\n    return this.models.filter(model => model.modelName.toLowerCase().startsWith(this.modelSearchTerm.toLowerCase()));\r\n  }\r\n\r\n  onSubmit() {\r\n    this.submitClicked = true;\r\n  }\r\n\r\n  displayFuelSelectOptions() {\r\n    (this.fuelOptionsHidden) ? this.fuelOptionsHidden = false : this.fuelOptionsHidden = true;\r\n  }\r\n\r\n  displayBrandSelectOptions() {\r\n    (this.brandOptionsHidden) ? this.brandOptionsHidden = false : this.brandOptionsHidden = true;\r\n  }\r\n\r\n  displayModelSelectOptions() {\r\n    (this.modelOptionsHidden) ? this.modelOptionsHidden = false : this.modelOptionsHidden = true;\r\n  }\r\n\r\n  changeFuelsState() {\r\n    this.areFuelsLoaded = true;\r\n  }\r\n\r\n  changeBrandsState() {\r\n    this.areBrandsLoaded = true;\r\n  }\r\n\r\n  updateChoosenFuels(formControlName: string) {\r\n    if (this.addCarForm.get('fuelOptions')!.get(formControlName)!.value) {\r\n      this.chosenFuels.push(formControlName);\r\n    } else {\r\n      const index = this.chosenFuels.indexOf(formControlName, 0);\r\n      if (index > -1) {\r\n        this.chosenFuels.splice(index, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  updateValue(opElement: OperationalEquipment) {\r\n    if (opElement.isChecked === false) {\r\n      opElement.isChecked = true;\r\n    } else {\r\n      opElement.isChecked = false;\r\n    }\r\n }\r\n\r\n  constructor(private addCarService: VehiclesService, private getEquipmentElementsService: EquipmentService,\r\n    private formBuilder: FormBuilder, private getFiltersService: FiltersService, private loadingSpinnerService: LoadingSpinnerService) {}\r\n\r\n  public ngOnDestroy(): void {\r\n    this.onDestroy$.next(true);\r\n    this.onDestroy$.complete();\r\n    this.loadingSpinnerService.changeSpinnerState(false);\r\n    console.log(\"ngOnDestroy - newCar\");\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initForm();\r\n    forkJoin([\r\n      this.getEquipmentElements(),\r\n      this.getCarbodies(),\r\n      this.getFuels(),\r\n      this.getTransmissionTypes(),\r\n      this.getBrands(),\r\n      this.getModels(),\r\n      this.getYears()\r\n    ])\r\n      .pipe(takeUntil(this.onDestroy$))\r\n      .subscribe(\r\n         {\r\n          next: () => {\r\n             this.loadingSpinnerService.changeSpinnerState(true);\r\n             this.initFuelOptions();\r\n             this.initBrandOptions();\r\n             this.initModelOptions();\r\n             this.changeFuelsState();\r\n             this.changeBrandsState();\r\n          },\r\n           error: err => { console.log(\"error\", err); },\r\n         }\r\n      )\r\n  }\r\n\r\n  initForm() {\r\n    this.addCarForm = this.formBuilder.group({\r\n      yearOfProduction: ['', [Validators.required, createIsAnOptionValidator(this.years)]],\r\n      mileage: ['', Validators.required],\r\n      carbodyType: ['', [Validators.required, createIsAnOptionValidator(this.carbodies)]],\r\n      transmissionType: ['', [Validators.required, createIsAnOptionValidator(this.transmissionTypes)]],\r\n      vehicleImage: ['', Validators.required]\r\n    });\r\n    this.addCarForm.addControl('fuelOptions', new FormGroup({}));\r\n    this.addCarForm.get('fuelOptions')!.addValidators(createAtLeastOneValidator());\r\n\r\n    this.addCarForm.addControl('brandOptions', new FormGroup({}));\r\n    this.addCarForm.addControl('modelOptions', new FormGroup({}));\r\n  }\r\n\r\n  initFuelOptions() {\r\n    const fuelsTemp: FormGroup = this.addCarForm.controls.fuelOptions as FormGroup;\r\n    for (const fuel of this.fuels) {\r\n      fuelsTemp.addControl(fuel.fuelName, new FormControl(false));\r\n    }\r\n  }\r\n\r\n  initBrandOptions() {\r\n    const brandsTemp: FormGroup = this.addCarForm.controls.brandOptions as FormGroup;\r\n    for (const brand of this.brands) {\r\n      brandsTemp.addControl(brand.brandName, new FormControl(false));\r\n    }\r\n  }\r\n\r\n  initModelOptions() {\r\n    const modelsTemp: FormGroup = this.addCarForm.controls.modelOptions as FormGroup;\r\n    for (const model of this.models) {\r\n      modelsTemp.addControl(model.modelName, new FormControl(false));\r\n    }\r\n  }\r\n \r\n  fileChanged(event: Event) {\r\n    const imageInputElement = event.target as HTMLInputElement;\r\n    if (imageInputElement.files && imageInputElement.files.length > 0) {\r\n      const files = imageInputElement.files;\r\n      for (const file of files) {\r\n        this.vehicleImages.push(file);\r\n      }\r\n    }\r\n  }\r\n\r\n  submitForm() {\r\n    if (this.addCarForm.valid) {\r\n      const formData: AddCarInterface = this.addCarForm.value;\r\n      const newVehicle: Vehicle = new Vehicle();\r\n\r\n      newVehicle.brandId = this.brands.find(brand => brand.brandName === formData.brand)!.brandId!;\r\n      newVehicle.modelId = this.models.find(model => model.modelName === formData.model)!.modelId!;\r\n\r\n      newVehicle.yearOfProductionId = this.years.find(year => year.year === formData.yearOfProduction)!.yearId!;\r\n      newVehicle.mileage = formData.mileage;\r\n\r\n      formData.fuels.forEach(f1 => {\r\n        const matchingFuel = this.fuels.find(f2 => f2.fuelName === f1);\r\n        if (matchingFuel) {\r\n          newVehicle.fuels.push(matchingFuel);\r\n        }\r\n      })\r\n\r\n      newVehicle.carbodyId = this.carbodies.find(c => c.carbodyName === formData.carBodyType)!.carbodyId!;\r\n\r\n      for (const opElement of this.operationalEquipment) {\r\n        if (opElement.isChecked === true) {\r\n          const matchingEquipmentElement = this.equipment.find(ee => ee.elementId === opElement.eqElement.elementId);\r\n          if (matchingEquipmentElement) {\r\n            newVehicle.equipment.push(matchingEquipmentElement);\r\n          }\r\n        }\r\n      }\r\n      this.addCarService.addVehicle(newVehicle)\r\n        .pipe(takeUntil(this.onDestroy$))\r\n        .subscribe(\r\n          {\r\n            next: () => { debugger },\r\n            error: err => { console.log(\"błąd\"), console.log(err) }\r\n          });\r\n    }\r\n    else {\r\n      console.log(\"Form is not valid!!!\");\r\n      this.getFormValidationErrors();\r\n    } \r\n  }\r\n\r\n  getFormValidationErrors() {\r\n    Object.keys(this.addCarForm.controls).forEach((key,value) => {\r\n      const controlErrors: ValidationErrors = this.addCarForm.get(key)!.errors!;\r\n      Object.keys(controlErrors || {}).forEach(keyError => {\r\n        console.log(`Key control: ${key}, keyError: ${keyError}, errValue: ${controlErrors[keyError]}`);\r\n      });\r\n    });\r\n  }\r\n\r\n  private getEquipmentElements() {\r\n    return this.getEquipmentElementsService.getEquipmentElements()\r\n      .pipe(map(r => this.equipment = r));\r\n  }\r\n  private getCarbodies() {\r\n    return this.getFiltersService.getCarbodies()\r\n      .pipe(map(r => this.carbodies = r));\r\n  }\r\n  private getFuels() {\r\n    return this.getFiltersService.getFuels()\r\n      .pipe(map(r => this.fuels = r));\r\n  }\r\n  private getTransmissionTypes() {\r\n    return this.getFiltersService.getTransmissionTypes()\r\n      .pipe(map(r => this.transmissionTypes = r));\r\n  }\r\n  private getModels() {\r\n    return this.getFiltersService.getModels()\r\n      .pipe(map(r => this.models = r));\r\n  }\r\n  private getBrands() {\r\n    return this.getFiltersService.getBrands()\r\n      .pipe(map(r => this.brands = r));\r\n  }\r\n  private getYears() {\r\n    return this.getFiltersService.getYears()\r\n      .pipe(map(r => this.years = r));\r\n  }\r\n\r\n  collapse() {\r\n    this.isExpanded = false;\r\n  }\r\n\r\n  toggle() {\r\n    this.isExpanded = !this.isExpanded;\r\n  }\r\n}\r\n","<section class=\"pt-3 pb-3\">\r\n  <form [formGroup]=\"addCarForm\" (ngSubmit)=\"submitForm()\">\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-8 mb-3 position-relative customBrandSelectAlias customBrandSelect\">\r\n          <label for=\"customBrandSelect\" class=\"form-label\">Marka pojazdu</label>\r\n          <input [(ngModel)]=\"brandSearchTerm\" [ngModelOptions]=\"{ standalone: true }\" type=\"text\" class=\"form-control\" placeholder=\"Marka pojazdu\" (click)=\"displayBrandSelectOptions()\">\r\n          <div class=\"options position-absolute w-auto\" formGroupName=\"brandOptions\" *ngIf=\"areBrandsLoaded && !brandOptionsHidden\">\r\n            <div class=\"option d-flex\" *ngFor=\"let brand of filterBrands()\">\r\n              <input type=\"checkbox\" id=\"{{brand.brandName}}\" name=\"{{brand.brandName}}\" formControlName=\"{{brand.brandName}}\" (change)=\"updateChoice('brand', brand.brandName)\" />\r\n              <label class=\"label-box flex-grow-1\" for=\"{{brand.brandName}}\">{{brand.brandName}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-8 mb-3 position-relative customModelSelectAlias customModelSelect\">\r\n          <label for=\"customModelSelect\" class=\"form-label\">Marka pojazdu</label>\r\n          <input [(ngModel)]=\"modelSearchTerm\" [ngModelOptions]=\"{ standalone: true }\" type=\"text\" class=\"form-control\" placeholder=\"Model pojazdu\" (click)=\"displayModelSelectOptions()\">\r\n          <div class=\"options position-absolute w-auto\" formGroupName=\"modelOptions\" *ngIf=\"!modelOptionsHidden\">\r\n            <div class=\"option d-flex\" *ngFor=\"let model of filterModels()\">\r\n              <input type=\"checkbox\" id=\"{{model.modelName}}\" name=\"{{model.modelName}}\" formControlName=\"{{model.modelName}}\" (change)=\"updateChoice('model', model.modelName)\" />\r\n              <label class=\"label-box flex-grow-1\" for=\"{{model.modelName}}\">{{model.modelName}}</label>\r\n            </div>\r\n          </div>\r\n          <div class=\"field-message\" *ngIf=\"submitClicked && addCarForm.get('model')?.hasError('required')\">\r\n            Model pojazdu jest wymagany.\r\n          </div>\r\n        </div>\r\n        <div class=\"col-8 mb-3\">\r\n          <label for=\"YearOfProdSelect\" class=\"form-label\">Rok produkcji</label>\r\n          <select formControlName=\"yearOfProduction\" class=\"form-select\" id=\"YearOfProdSelect\">\r\n            <option value=\"\" selected>Rok produkcji</option>\r\n            <option *ngFor=\"let year of years\" [value]=\"year.year\">{{year.year}}</option>\r\n          </select>\r\n          <div class=\"field-message\" *ngIf=\"submitClicked && addCarForm.get('yearOfProduction')?.hasError('required')\">\r\n            Rok produkcji jest wymagany.\r\n          </div>\r\n        </div>\r\n        <div class=\"col-8 mb-3\">\r\n          <div class=\"input-group\">\r\n            <label for=\"mileageInput\" class=\"form-label w-100\">Przebieg</label>\r\n            <input formControlName=\"mileage\" id=\"mileageInput\" type=\"text\" class=\"form-control\" placeholder=\"Przebieg\">\r\n          </div>\r\n          <div class=\"field-message\" *ngIf=\"submitClicked && addCarForm.get('mileage')?.hasError('required')\">\r\n            Przebieg jest wymagany.\r\n          </div>\r\n        </div>\r\n        <div class=\"col-8 mb-3 position-relative customFuelSelectAlias\">\r\n          <label for=\"customSelect\" class=\"form-label\">Rodzaj paliwa</label>\r\n          <div class=\"customSelect\" id=\"customSelect\" (click)=\"displayFuelSelectOptions()\" tabindex=\"0\">\r\n            <ng-container *ngIf=\"chosenFuels.length > 0; else elseBlock\">\r\n              <span *ngFor=\"let fuel of chosenFuels\">\r\n                {{fuel}}\r\n              </span>\r\n            </ng-container>\r\n            <ng-template #elseBlock>Wybierz rodzaj paliwa</ng-template>\r\n          </div>\r\n          <div class=\"options position-absolute w-auto\" formGroupName=\"fuelOptions\" *ngIf=\"areFuelsLoaded && !fuelOptionsHidden\">\r\n            <div class=\"option d-flex\" *ngFor=\"let fuel of fuels\">\r\n              <input type=\"checkbox\" id=\"{{fuel.fuelName}}\" name=\"{{fuel.fuelName}}\" formControlName=\"{{fuel.fuelName}}\" (change)=\"updateChoosenFuels(fuel.fuelName)\" />\r\n              <label class=\"label-box flex-grow-1\" for=\"{{fuel.fuelName}}\">{{fuel.fuelName}}</label>\r\n            </div>\r\n          </div>\r\n          <div class=\"field-message\" *ngIf=\"submitClicked && addCarForm.get('fuelOptions')?.hasError('atLeastOne')\">\r\n            Co najmniej 1 typ paliwa jest wymagany.\r\n          </div>\r\n        </div>\r\n        <div class=\"col-8 mb-3\">\r\n          <label for=\"TransmissionTypeSelect\" class=\"form-label\">Rodzaj skrzyni biegów</label>\r\n          <select formControlName=\"transmissionType\" class=\"form-select\" id=\"TransmissionTypeSelect\">\r\n            <option value=\"\" selected>Rodzaj skrzyni biegów</option>\r\n            <option *ngFor=\"let transmissionType of transmissionTypes\" [value]=\"transmissionType.typeName\">{{transmissionType.typeName}}</option>\r\n          </select>\r\n          <div class=\"field-message\" *ngIf=\"submitClicked && addCarForm.get('transmissionType')?.hasError('required')\">\r\n            Rodzaj skrzyni biegów jest wymagany.\r\n          </div>\r\n        </div>\r\n        <div class=\"col-8 mb-3\">\r\n          <label for=\"CarbodySelect\" class=\"form-label\">Rodzaj nadwozia</label>\r\n          <select formControlName=\"carbodyType\" class=\"form-select\" id=\"CarbodySelect\">\r\n            <option value=\"\" selected>Rodzaj nadwozia</option>\r\n            <option *ngFor=\"let carbody of carbodies\" [value]=\"carbody.carbodyName\">{{carbody.carbodyName}}</option>\r\n          </select>\r\n          <div class=\"field-message\" *ngIf=\"submitClicked && addCarForm.get('carbodyType')?.hasError('required')\">\r\n            Rodzaj nadwozia jest wymagany.\r\n          </div>\r\n        </div>\r\n        <div class=\"col-8 mb-3\">\r\n          <label for=\"vehicleImage\" class=\"form-label\">Zdjęcia pojazdu</label>\r\n          <input formControlName=\"vehicleImage\" class=\"form-control\" id=\"vehicleImage\" type=\"file\" (change)=\"fileChanged($event)\" multiple>\r\n          <div class=\"field-message\" *ngIf=\"submitClicked && addCarForm.get('vehicleImage')?.hasError('required')\">\r\n            Zdjęcia pojazdu są wymagane(min. 1).\r\n          </div>\r\n        </div>\r\n        <div class=\"col-8 mb-5\">\r\n          <div class=\"row\">\r\n            <div class=\"col-4 mb-2 d-flex justify-content-center\" *ngFor=\"let opElement of operationalEquipment\">\r\n              <input type=\"checkbox\" class=\"btn-check\" id=\"{{opElement.eqElement.elementName}}\" autocomplete=\"off\" (click)=\"updateValue(opElement)\">\r\n              <label class=\"btn btn-outline-primary\" for=\"{{opElement.eqElement.elementName}}\">{{opElement.eqElement.elementName}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-8 d-flex justify-content-center\">\r\n          <button type=\"submit\" class=\"btn btn-primary w-auto submitBtn\" (click)=\"onSubmit()\">Dodaj pojazd</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</section>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}