{"ast":null,"code":"import { __decorate } from \"tslib\";\n/* eslint-disable @angular-eslint/component-selector */\nimport { Component } from '@angular/core';\nimport { ReplaySubject, takeUntil } from 'rxjs';\nlet FleetComponent = class FleetComponent {\n  ngOnDestroy() {\n    this.onDestroy$.next(true);\n    this.onDestroy$.complete();\n  }\n  constructor(vehiclesService, getFiltersService, sanitizer) {\n    this.vehiclesService = vehiclesService;\n    this.getFiltersService = getFiltersService;\n    this.sanitizer = sanitizer;\n    this.mainBanner = 'assets/images/dope-cars-banner.png';\n    this.data = [];\n    this.priceRanges = [];\n    this.sortingTypes = [];\n    this.carbodies = [];\n    this.fuels = [];\n    this.transmissionTypes = [];\n    this.onDestroy$ = new ReplaySubject(1);\n  }\n  ngOnInit() {\n    this.vehiclesService.getVehicles().pipe(takeUntil(this.onDestroy$)).subscribe({\n      next: r => {\n        this.data = r;\n      },\n      error: err => {\n        console.log(\"error\", err);\n      }\n    });\n    this.getFiltersService.getPriceRanges().pipe(takeUntil(this.onDestroy$)).subscribe({\n      next: r => {\n        this.priceRanges = r;\n      },\n      error: err => {\n        console.log(\"error\", err);\n      }\n    });\n    this.getFiltersService.getSortingTypes().pipe(takeUntil(this.onDestroy$)).subscribe({\n      next: r => {\n        this.sortingTypes = r;\n      },\n      error: err => {\n        console.log(\"error\", err);\n      }\n    });\n    this.getFiltersService.getCarbodies().pipe(takeUntil(this.onDestroy$)).subscribe({\n      next: r => {\n        this.carbodies = r;\n      },\n      error: err => {\n        console.log(\"error\", err);\n      }\n    });\n    this.getFiltersService.getFuels().pipe(takeUntil(this.onDestroy$)).subscribe({\n      next: r => {\n        this.fuels = r;\n      },\n      error: err => {\n        console.log(\"error\", err);\n      }\n    });\n    this.getFiltersService.getTransmissionTypes().pipe(takeUntil(this.onDestroy$)).subscribe({\n      next: r => {\n        this.transmissionTypes = r;\n      },\n      error: err => {\n        console.log(\"error\", err);\n      }\n    });\n  }\n};\nFleetComponent = __decorate([Component({\n  selector: 'fleet',\n  templateUrl: './fleet.component.html',\n  styleUrls: ['./fleet.component.css']\n})], FleetComponent);\nexport { FleetComponent };","map":{"version":3,"mappings":"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","names":["Component","ReplaySubject","takeUntil","FleetComponent","ngOnDestroy","onDestroy$","next","complete","constructor","vehiclesService","getFiltersService","sanitizer","ngOnInit","getVehicles","pipe","subscribe","r","data","error","err","console","log","getPriceRanges","priceRanges","getSortingTypes","sortingTypes","getCarbodies","carbodies","getFuels","fuels","getTransmissionTypes","transmissionTypes","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\rutko\\source\\repos\\Car-Fleet-Management\\CarFleet-Project\\ClientApp\\src\\app\\fleet\\fleet.component.ts"],"sourcesContent":["/* eslint-disable @angular-eslint/component-selector */\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { VehiclesService } from '../../services/vehicles.service'\r\nimport { FiltersService } from '../../services/filters.service'\r\nimport { Vehicle } from '../../models/Vehicle';\r\nimport { PriceRange } from '../../models/PriceRange';\r\nimport { SortingType } from '../../models/SortingType';\r\nimport { Carbody } from '../../models/Carbody';\r\nimport { Fuel } from '../../models/Fuel';\r\nimport { TransmissionType } from '../../models/TransmissionType';\r\nimport { ReplaySubject, takeUntil } from 'rxjs';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Component({\r\n  selector: 'fleet',\r\n  templateUrl: './fleet.component.html',\r\n  styleUrls: ['./fleet.component.css'],\r\n})\r\nexport class FleetComponent implements OnInit, OnDestroy {\r\n  public mainBanner = 'assets/images/dope-cars-banner.png';\r\n\r\n  public data: Vehicle[] = [];\r\n  public priceRanges: PriceRange[] = [];\r\n  public sortingTypes: SortingType[] = [];\r\n  public carbodies: Carbody[] = [];\r\n  public fuels: Fuel[] = [];\r\n  public transmissionTypes: TransmissionType[] = [];\r\n\r\n  private onDestroy$: ReplaySubject<boolean> = new ReplaySubject<boolean>(1);\r\n\r\n  public ngOnDestroy(): void {\r\n    this.onDestroy$.next(true);\r\n    this.onDestroy$.complete();\r\n  }\r\n\r\n  constructor(private vehiclesService: VehiclesService, private getFiltersService: FiltersService, private sanitizer: DomSanitizer)\r\n  {}\r\n\r\n  ngOnInit() {\r\n    this.vehiclesService.getVehicles()\r\n      .pipe(takeUntil(this.onDestroy$))\r\n      .subscribe({ next: r => { this.data = r; }, error: err => { console.log(\"error\", err); } }); \r\n    this.getFiltersService.getPriceRanges()\r\n      .pipe(takeUntil(this.onDestroy$))\r\n      .subscribe({ next: r => { this.priceRanges = r; }, error: err => { console.log(\"error\", err); } });\r\n    this.getFiltersService.getSortingTypes()\r\n      .pipe(takeUntil(this.onDestroy$))\r\n      .subscribe({ next: r => { this.sortingTypes = r; }, error: err => { console.log(\"error\", err); } });\r\n    this.getFiltersService.getCarbodies()\r\n      .pipe(takeUntil(this.onDestroy$))\r\n      .subscribe({ next: r => { this.carbodies = r; }, error: err => { console.log(\"error\", err); } });\r\n    this.getFiltersService.getFuels()\r\n      .pipe(takeUntil(this.onDestroy$))\r\n      .subscribe({ next: r => { this.fuels = r; }, error: err => { console.log(\"error\", err); } });\r\n    this.getFiltersService.getTransmissionTypes()\r\n      .pipe(takeUntil(this.onDestroy$))\r\n      .subscribe({ next: r => { this.transmissionTypes = r; }, error: err => { console.log(\"error\", err); } });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}